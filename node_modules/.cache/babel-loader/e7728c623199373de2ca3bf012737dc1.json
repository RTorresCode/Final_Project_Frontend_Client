{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RT3\\\\Documents\\\\Projects\\\\Web Development\\\\Final Project (Frontend)\\\\src\\\\components\\\\containers\\\\EditCampusContainer.js\";\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport EditCampusView from '../views/EditCampusView';\nimport { editCampusThunk } from '../../store/thunks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const {\n        name,\n        value,\n        type,\n        checked\n      } = event.target;\n      type === \"checkbox\" ? this.setState({\n        [name]: checked\n      }) : this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      let new_info = {\n        name: this.state.name,\n        description: this.state.description,\n        address: this.state.address,\n        imageUrl: this.state.imageUrl,\n        id: this.state.id\n      };\n\n      if (new_info.imageUrl === \"\") {\n        delete new_info.imageUrl;\n      }\n\n      try {\n        let campus = await this.props.editCampus(new_info);\n        console.log(campus.id);\n        alert(`${new_info.name}'s edit was saved.`);\n        this.setState({\n          name: \"\",\n          address: \"\",\n          description: \"\",\n          imageUrl: \"\",\n          redirect: true,\n          id: -1\n        });\n      } catch (err) {\n        console.error(err);\n        alert(\"Error with edit!\");\n        this.setState({\n          errorCaught: true\n        });\n      }\n    };\n\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageUrl: \"\",\n      id: -1,\n      redirect: false,\n      errorCaught: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      name: this.props.campus.name,\n      address: this.props.campus.address,\n      description: this.props.campus.description,\n      imageUrl: this.props.campus.imageUrl,\n      id: this.props.campus.id\n    });\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      redirect: false,\n      redirectId: null\n    });\n  }\n\n  render() {\n    if (this.state.redirect) {\n      window.location.reload();\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(EditCampusView, {\n        handleChange: this.handleChange,\n        handleSubmit: this.handleSubmit,\n        campus: this.props.campus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), this.state.errorCaught ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Campus name: Cannot be null.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Campus address: Cannot be null.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Campus Image: Should be a valid image link, or can be left blank.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Campus Description: Can be null.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapDispatch = dispatch => {\n  return {\n    editCampus: campus => dispatch(editCampusThunk(campus))\n  };\n};\n\nexport default connect(null, mapDispatch)(EditCampusContainer);","map":{"version":3,"sources":["C:/Users/RT3/Documents/Projects/Web Development/Final Project (Frontend)/src/components/containers/EditCampusContainer.js"],"names":["Component","connect","EditCampusView","editCampusThunk","EditCampusContainer","constructor","props","handleChange","event","name","value","type","checked","target","setState","handleSubmit","preventDefault","new_info","state","description","address","imageUrl","id","campus","editCampus","console","log","alert","redirect","err","error","errorCaught","componentDidMount","componentWillUnmount","redirectId","render","window","location","reload","mapDispatch","dispatch"],"mappings":"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","sourcesContent":["\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport EditCampusView from '../views/EditCampusView';\r\nimport { editCampusThunk } from '../../store/thunks';\r\n\r\n\r\nclass EditCampusContainer extends Component {\r\n  constructor(props) { \r\n    super(props); \r\n    this.state = {\r\n        name: \"\", \r\n        address: \"\",\r\n        description: \"\",\r\n        imageUrl: \"\",\r\n        id: -1,\r\n        redirect: false, \r\n        errorCaught: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({name: this.props.campus.name, \r\n        address: this.props.campus.address,\r\n        description: this.props.campus.description,\r\n        imageUrl: this.props.campus.imageUrl,\r\n        id: this.props.campus.id});  \r\n  }\r\n\r\n\r\n    handleChange = event => {\r\n      const {name, value, type, checked} = event.target\r\n      type === \"checkbox\" ? this.setState({ [name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n  \r\n    handleSubmit = async event => {\r\n      event.preventDefault();\r\n\r\n      let new_info = { \r\n        name: this.state.name,\r\n        description: this.state.description,\r\n        address: this.state.address,\r\n        imageUrl: this.state.imageUrl,\r\n        id: this.state.id\r\n      };\r\n      if (new_info.imageUrl === \"\") { \r\n        delete new_info.imageUrl; \r\n      }\r\n      try {\r\n        let campus = await this.props.editCampus(new_info)\r\n        console.log(campus.id); \r\n        alert(`${new_info.name}'s edit was saved.`); \r\n        \r\n        this.setState({\r\n          name: \"\", \r\n          address: \"\", \r\n          description: \"\",\r\n          imageUrl: \"\",\r\n          redirect: true, \r\n          id: -1\r\n        });\r\n      }\r\n      catch(err) {  \r\n        console.error(err); \r\n        alert(\"Error with edit!\");\r\n        this.setState({\r\n          errorCaught: true \r\n        });\r\n      }\r\n\r\n  }\r\n   \r\n  componentWillUnmount() {\r\n    this.setState({redirect: false, redirectId: null});\r\n  }\r\n  \r\n  render() {\r\n    if(this.state.redirect) {\r\n      window.location.reload(); \r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <EditCampusView\r\n          handleChange = {this.handleChange} \r\n          handleSubmit={this.handleSubmit}\r\n          campus={this.props.campus}  \r\n        />\r\n        {this.state.errorCaught ? (\r\n          <div>\r\n            <br />\r\n            <p>Campus name: Cannot be null.</p>\r\n            <p>Campus address: Cannot be null.</p>\r\n            <p>Campus Image: Should be a valid image link, or can be left blank.</p>\r\n            <p>Campus Description: Can be null.</p>\r\n          </div>\r\n        ) : (\r\n          null\r\n        )}\r\n      </div>          \r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatch = (dispatch) => {\r\n    return({\r\n        editCampus: (campus) => dispatch(editCampusThunk(campus)),\r\n    })\r\n}\r\n\r\n\r\nexport default connect(null, mapDispatch)(EditCampusContainer);\r\n\r\n       \r\n\r\n\r\n\r\n\r\n\r\n\r\n        "]},"metadata":{},"sourceType":"module"}