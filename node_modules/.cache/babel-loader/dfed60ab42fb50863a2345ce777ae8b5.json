{"ast":null,"code":"var _jsxFileName = \"/Users/tahminamunni/Desktop/Final_Project_Frontend_Client/src/components/containers/EditCampusContainer.js\";\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport EditCampusView from '../views/EditCampusView';\nimport { editCampusThunk } from '../../store/thunks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const {\n        name,\n        value,\n        type,\n        checked\n      } = event.target;\n      type === \"checkbox\" ? this.setState({\n        [name]: checked\n      }) : this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      let new_info = {\n        name: this.state.name,\n        description: this.state.description,\n        address: this.state.address,\n        imageUrl: this.state.imageUrl,\n        id: this.state.id\n      };\n\n      if (new_info.imageUrl === \"\") {\n        delete new_info.imageUrl;\n      }\n\n      let campus = {\n        name: this.state.name,\n        address: this.state.address,\n        description: this.state.description,\n        imageUrl: this.state.imageUrl,\n        id: this.props.campus.id //id or campusID\n\n      };\n      console.log(\"campus: \");\n      console.log(campus);\n      console.log(\"this.props.campus: \");\n      console.log(this.props.campus);\n      let newCampus = await this.props.editCampus(campus);\n      console.log(\"newCampus: \");\n      console.log(newCampus);\n      this.setState({\n        name: \"\",\n        address: \"\",\n        description: \"\",\n        imageUrl: 0,\n        redirect: true,\n        redirectId: this.props.campus.id\n      });\n    };\n\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageUrl: \"\",\n      id: -1,\n      redirect: false,\n      errorCaught: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      name: this.props.campus.name,\n      address: this.props.campus.address,\n      description: this.props.campus.description,\n      imageUrl: this.props.campus.imageUrl,\n      id: this.props.campus.id\n    });\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      redirect: false,\n      redirectId: null\n    });\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: `/campus/${this.state.redirectId}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(EditCampusView, {\n      campus: this.props.campus,\n      editCampus: this.props.editCampus,\n      deleteCampus: this.props.deleteCampus,\n      fetchCampus: this.props.fetchCampus,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapState = state => {\n  return {\n    campus: state.campus\n  };\n};\n\nconst mapDispatch = dispatch => {\n  return {\n    fetchCampus: id => dispatch(fetchCampusThunk(id)),\n    editCampus: campus => dispatch(editCampusThunk(campus))\n  };\n};\n\nexport default connect(mapState, mapDispatch)(EditCampusContainer);","map":{"version":3,"sources":["/Users/tahminamunni/Desktop/Final_Project_Frontend_Client/src/components/containers/EditCampusContainer.js"],"names":["Component","connect","EditCampusView","editCampusThunk","EditCampusContainer","constructor","props","handleChange","event","name","value","type","checked","target","setState","handleSubmit","preventDefault","new_info","state","description","address","imageUrl","id","campus","console","log","newCampus","editCampus","redirect","redirectId","errorCaught","componentDidMount","componentWillUnmount","render","deleteCampus","fetchCampus","mapState","mapDispatch","dispatch","fetchCampusThunk"],"mappings":"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","sourcesContent":["\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport EditCampusView from '../views/EditCampusView';\nimport { editCampusThunk } from '../../store/thunks';\n\n\nclass EditCampusContainer extends Component {\n  constructor(props) { \n    super(props); \n    this.state = {\n        name: \"\", \n        address: \"\",\n        description: \"\",\n        imageUrl: \"\",\n        id: -1,\n        redirect: false, \n        errorCaught: false,\n    }\n  }\n\n  componentDidMount() {\n    this.setState({name: this.props.campus.name, \n        address: this.props.campus.address,\n        description: this.props.campus.description,\n        imageUrl: this.props.campus.imageUrl,\n        id: this.props.campus.id});  \n  }\n\n\n    handleChange = event => {\n      const {name, value, type, checked} = event.target\n      type === \"checkbox\" ? this.setState({ [name]: checked }) : this.setState({ [name]: value })\n    }\n  \n    handleSubmit = async event => {\n      event.preventDefault();\n\n      let new_info = { \n        name: this.state.name,\n        description: this.state.description,\n        address: this.state.address,\n        imageUrl: this.state.imageUrl,\n        id: this.state.id\n      };\n      if (new_info.imageUrl === \"\") { \n        delete new_info.imageUrl; \n      }\n       \n\n       \n\n\n\n\n\n\n        let campus = {\n            name: this.state.name,\n            address: this.state.address,\n            description: this.state.description,\n            imageUrl: this.state.imageUrl,\n            id: this.props.campus.id //id or campusID\n        };\n\n        console.log(\"campus: \")\n        console.log(campus)\n\n        console.log(\"this.props.campus: \")\n        console.log(this.props.campus)\n\n        let newCampus = await this.props.editCampus(campus);\n\n        console.log(\"newCampus: \")\n        console.log(newCampus)\n\n        this.setState({\n            name: \"\", \n            address: \"\", \n            description: \"\",\n            imageUrl: 0,\n            redirect: true, \n            redirectId: this.props.campus.id\n          });\n      }\n  \n      componentWillUnmount() {\n          this.setState({redirect: false, redirectId: null});\n      }\n\n      render() {\n\n        if(this.state.redirect) {\n          return (<Redirect to={`/campus/${this.state.redirectId}`}/>)\n        }\n        return (\n            \n            <EditCampusView \n            campus={this.props.campus}\n            editCampus={this.props.editCampus}\n            deleteCampus={this.props.deleteCampus}\n            fetchCampus={this.props.fetchCampus}\n            handleChange = {this.handleChange} \n            handleSubmit={this.handleSubmit}      \n          />\n        );\n    }\n}\n\nconst mapState = (state) => {\n    return {\n      campus: state.campus,\n    };\n  };\n\nconst mapDispatch = (dispatch) => {\n    return({\n        fetchCampus: (id) => dispatch(fetchCampusThunk(id)),\n        editCampus: (campus) => dispatch(editCampusThunk(campus))\n    })\n}\n\nexport default connect(mapState, mapDispatch)(EditCampusContainer);\n\n  \n\n\n"]},"metadata":{},"sourceType":"module"}