{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RT3\\\\Documents\\\\Projects\\\\Web Development\\\\Final Project (Frontend)\\\\src\\\\components\\\\containers\\\\EditStudentContainer.js\";\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport EditStudentView from '../views/EditStudentView';\nimport { editStudentThunk } from '../../store/thunks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditStudentContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const {\n        name,\n        value,\n        type,\n        checked\n      } = event.target;\n      type === \"checkbox\" ? this.setState({\n        [name]: checked\n      }) : this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      let new_info = {\n        firstname: this.state.firstname,\n        lastname: this.state.lastname,\n        gpa: this.state.gpa,\n        email: this.state.email,\n        imageUrl: this.state.imageUrl,\n        campusId: this.state.campusId,\n        id: this.state.id\n      };\n\n      if (!new_info.imageUrl === \"\") {}\n\n      try {\n        let student = await this.props.editStudent(new_info);\n        console.log(student.id);\n        alert(`${new_info.firstname} ${new_info.lastname}'s edit was saved.`);\n        this.setState({\n          firstname: \"\",\n          lastname: \"\",\n          gpa: -1,\n          email: \"\",\n          imageUrl: \"\",\n          id: -1,\n          campusId: -1,\n          redirect: true\n        });\n      } catch (err) {\n        console.error(err);\n        alert(\"Error with edit!\");\n        this.setState({\n          errorCaught: true\n        });\n      }\n\n      ;\n    };\n\n    this.state = {\n      firstname: \"\",\n      lastname: \"\",\n      gpa: -1,\n      email: \"\",\n      imageUrl: \"\",\n      id: -1,\n      campusId: -1,\n      redirect: false,\n      errorCaught: false,\n      redirectId: null\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      firstname: this.props.student.firstname,\n      lastname: this.props.student.lastname,\n      gpa: this.props.student.gpa,\n      email: this.props.student.email,\n      imageUrl: this.props.student.imageUrl,\n      campusId: this.props.student.campusId,\n      id: this.props.student.id\n    });\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      redirect: false,\n      redirectId: null\n    });\n  }\n\n  render() {\n    if (this.state.redirect) {\n      window.location.reload();\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(EditStudentView, {\n        handleChange: this.handleChange,\n        handleSubmit: this.handleSubmit,\n        student: this.props.student\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), this.state.errorCaught ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Student First and Last names: Cannot be null.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Student's Campus ID: Must be a valid  and actual campus ID of a school within this database.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Student Email: Cannot be null.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Student Image: Can be left blank.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Student GPA: Must be between 0.0 and 4.0.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nconst mapDispatch = dispatch => {\n  return {\n    editStudent: student => dispatch(editStudentThunk(student))\n  };\n};\n\nexport default connect(null, mapDispatch)(EditStudentContainer);","map":{"version":3,"names":["Component","connect","EditStudentView","editStudentThunk","EditStudentContainer","constructor","props","handleChange","event","name","value","type","checked","target","setState","handleSubmit","preventDefault","new_info","firstname","state","lastname","gpa","email","imageUrl","campusId","id","student","editStudent","console","log","alert","redirect","err","error","errorCaught","redirectId","componentDidMount","componentWillUnmount","render","window","location","reload","mapDispatch","dispatch"],"sources":["C:/Users/RT3/Documents/Projects/Web Development/Final Project (Frontend)/src/components/containers/EditStudentContainer.js"],"sourcesContent":["\r\nimport { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport EditStudentView from '../views/EditStudentView';\r\nimport { editStudentThunk } from '../../store/thunks';\r\n\r\n\r\n\r\nclass EditStudentContainer extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n          firstname: \"\", \r\n          lastname: \"\",\r\n          gpa: -1,\r\n          email: \"\",\r\n          imageUrl: \"\",\r\n          id: -1,\r\n          campusId: -1, \r\n          redirect: false, \r\n          errorCaught: false, \r\n          redirectId: null\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.setState({firstname: this.props.student.firstname,\r\n          lastname: this.props.student.lastname, \r\n          gpa: this.props.student.gpa,\r\n          email: this.props.student.email,\r\n          imageUrl: this.props.student.imageUrl,\r\n          campusId: this.props.student.campusId,\r\n          id: this.props.student.id});  \r\n    }\r\n\r\n    handleChange = event => {\r\n      const {name, value, type, checked} = event.target\r\n      type === \"checkbox\" ? this.setState({ [name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n    handleSubmit = async event =>  {\r\n      event.preventDefault(); \r\n  \r\n      let new_info = { \r\n        firstname: this.state.firstname,\r\n        lastname: this.state.lastname,\r\n        gpa: this.state.gpa,\r\n        email: this.state.email,\r\n        imageUrl: this.state.imageUrl,\r\n        campusId: this.state.campusId,\r\n        id: this.state.id\r\n      };\r\n      if (!new_info.imageUrl === \"\") { \r\n      }\r\n  \r\n      \r\n        try {\r\n          let student = await this.props.editStudent(new_info) \r\n          console.log(student.id); \r\n          alert(`${new_info.firstname} ${new_info.lastname}'s edit was saved.`); \r\n      \r\n          this.setState({\r\n            firstname: \"\", \r\n            lastname: \"\",\r\n            gpa: -1,\r\n            email: \"\",\r\n            imageUrl: \"\",\r\n            id: -1,\r\n            campusId: -1,\r\n            redirect: true, \r\n          });\r\n        }\r\n        catch(err) { \r\n          console.error(err); \r\n          alert(\"Error with edit!\");\r\n          this.setState({\r\n            errorCaught: true \r\n          });\r\n        };\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n      this.setState({redirect: false, redirectId: null});\r\n    }\r\n    \r\n    render() {\r\n      if(this.state.redirect) {\r\n        window.location.reload(); \r\n      }\r\n  \r\n     return (\r\n        <div>\r\n          <EditStudentView\r\n            handleChange = {this.handleChange} \r\n            handleSubmit={this.handleSubmit}\r\n            student={this.props.student}\r\n          />\r\n          {this.state.errorCaught ? (\r\n            <div>\r\n              <br />\r\n              <p>Student First and Last names: Cannot be null.</p>\r\n              <p>Student's Campus ID: Must be a valid  and actual campus ID of a school within this database.</p>\r\n              <p>Student Email: Cannot be null.</p>\r\n              <p>Student Image: Can be left blank.</p>\r\n              <p>Student GPA: Must be between 0.0 and 4.0.</p>\r\n            </div>\r\n          ) : (\r\n            null\r\n          )}\r\n        </div>          \r\n      );\r\n    }\r\n  }\r\n  \r\n const mapDispatch = (dispatch) => {\r\n      return({\r\n          editStudent: (student) => dispatch(editStudentThunk(student)),\r\n      })\r\n  }\r\n  \r\n  export default connect(null, mapDispatch)(EditStudentContainer);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module"}